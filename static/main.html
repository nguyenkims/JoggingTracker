<!--Header-->
<div class="row">
    Hello {{username}}
    <button class="btn btn-toolbar" ng-click="logout()">Log out</button>
</div>

<br/>

<div class="row">
    <!-- Add new entry-->
    <div class="col-md-3">
        <form>
            <datepicker ng-model="date" show-weeks="true"></datepicker>
            Distance: <input type="number" ng-model="distance" class="form-control">
            Time: <input type="number" ng-model="time" class="form-control">
            <button class="btn btn-default" ng-click="addEntry()">Add</button>
        </form>
    </div>

    <!-- Filter and list all entries-->
    <div class="col-md-6">
        <!-- Filter -->
        Mininum date:
        <p class="input-group">
            <input type="text" class="form-control" datepicker-popup="{{format}}" ng-model="startDate"
                   is-open="startDateOpened" ng-focus="openStartDate($event)"/>
      <span class="input-group-btn">
        <button type="button" class="btn btn-default" ng-click="openStartDate($event)"><i
                class="glyphicon glyphicon-calendar"></i></button>
      </span>
        </p>

        Maximum date:
        <p class="input-group">
            <input type="text" class="form-control" datepicker-popup="{{format}}" ng-model="endDate"
                   is-open="endDateOpened" ng-focus="openEndDate($event)"/>
      <span class="input-group-btn">
        <button type="button" class="btn btn-default" ng-click="openEndDate($event)"><i
                class="glyphicon glyphicon-calendar"></i></button>
      </span>
        </p>
        <p class="input-group">
            <button class="btn btn-default" ng-click="clearDate()">Clear date</button>
        </p>

        <!-- List all entries-->
        <div ng-repeat="entry in getDates() | orderBy:'date' " class="alert alert-info">
            <p>Date: {{entry.date | date:'yyyy-MM-dd'}}</p>

            <p>Distance: {{entry.distance}} km</p>

            <p>Time: <input type="number" ng-readonly="!entry.writable" ng-model="entry.time"> minutes</p>

            <p>Average speed: {{60 * entry.distance / entry.time | number:2}} km/h </p>

            <button class="btn btn-danger" ng-click="deleteEntry(entry)">Delete</button>
            <button class="btn btn-warning" ng-click="makeEntryEditable(entry)">
                {{entry.editModeText ||Â "Edit"}}
            </button>
        </div>
    </div>
</div>